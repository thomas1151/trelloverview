(window["webpackJsonptrello-overview"]=window["webpackJsonptrello-overview"]||[]).push([[0],{14:function(e,t,r){},15:function(e,t,r){},19:function(e,t,r){"use strict";r.r(t);var a=r(0),n=r.n(a),l=r(8),o=r.n(l),c=(r(14),r(1)),s=(r(15),r(4)),i=r(2),u=r.n(i),d=r(3);function f(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],r=Object(a.useState)([]),n=Object(c.a)(r,2),l=n[0],o=n[1],s=Object(a.useState)(!1),i=Object(c.a)(s,2),f=i[0],m=i[1],b=Object(a.useState)(null),v=Object(c.a)(b,2),p=v[0],g=v[1];function x(){return(x=Object(d.a)(u.a.mark((function t(){var r,a;return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return m(!0),g(null),o([]),t.prev=3,t.next=6,fetch(e);case 6:return r=t.sent,t.next=9,r.json();case 9:a=t.sent,o(a),m(!1),t.next=18;break;case 14:t.prev=14,t.t0=t.catch(3),g(t.t0),m(!1);case 18:case"end":return t.stop()}}),t,null,[[3,14]])})))).apply(this,arguments)}return Object(a.useEffect)((function(){e?function(){x.apply(this,arguments)}():g(Error("WARN: No URL Passed"))}),t),{data:l,error:p,isLoading:f}}var m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{onClick:[],onSelected:[]},r=Object(a.useState)(!!e.isSelected&&e.isSelected),l=Object(c.a)(r,2),o=l[0],i=l[1],u=f(e.fetchUrl);return n.a.createElement(n.a.Fragment,null,e.renderFn(function(){var t=u.data?u.data:u;return e.data.constructor===Object?Object.assign(e.data,Object(s.a)({},e.fetchName,t)):Object.assign(t,{initialPropsData:e.data})}(),{onRemove:function(r){t.onRemove.forEach((function(t){t(e.data)}))},onClick:function(r){o||t.onSelected.forEach((function(t){t(e.data)})),t.onClick.forEach((function(t){t(e.data)})),i(!o)},isSelected:e.isSelected,props:e}))},b=function(){},v=function(e,t,r,a){var l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:b;return t(e).map((function(e){return n.a.createElement(r,Object.assign({key:e.id,renderFn:a,data:e},l(e)))}))},p=function(){return n.a.createElement("div",{className:"w-full"},n.a.createElement("div",{className:"lds-dual-ring"}))},g=function(e){return e},x=function(e){return n.a.createElement("div",null,e.renderFn(e.data))},h=function(e){return n.a.createElement("div",{className:"id-"+e.id},e.id)};var w=function(e){var t=e.renderListItemFn?e.renderListItemFn:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.onClick,a=void 0===r?function(){return console.log("Default click")}:r,l=(t.isSelected,t.onRemove);return n.a.createElement("div",{className:"pot",onClick:a},n.a.createElement("div",{className:" py-2 px-4 hover:bg-blue-400 text-left border-t border-b border-gray-300 py-3 rounded flex "+(e.selected&&"text-white"),style:e.selected?{background:"#"+e.color}:{}},n.a.createElement("p",{className:"flex-1"},e.name),n.a.createElement("button",{onClick:l,className:" font-light px-2 rounded border-gray-100 deg45 font-bold text-xl select-none"+(e.selected?"text-white":"text-gray-700")},"+")))},r=function(t){var r={};r.date=new Date,r.name=t,r.id=r.date.getTime()+r.name,r.lists=[],r.selected=!0,r.color=r.date.getTime().toString().slice(-6),e.setActivePots(e.activePots.concat([r])),e.setCurrentPot(r)},a=e.activePots,l=function(t){console.log(t),e.setActivePots(a.filter((function(e){return e!==t})))},o=function(t){e.toggleSelectedPot&&e.toggleSelectedPot(t),e.setCurrentPot&&e.setCurrentPot(t)},c=v(a,(function(e){return e}),(function(e){return m(e,{onClick:[o],onSelected:[],onRemove:[l]})}),t,(function(t){return{isSelected:e.isSelectedPotFn(t)}}));return n.a.createElement(n.a.Fragment,null,c,n.a.createElement("div",{className:"list flex "},n.a.createElement("form",{className:"py-2 px-4 text-left border-t border-b border-gray-300 py-3 self-end flex justify-center w-full",onSubmit:function(e){e.preventDefault(),r(e.target.potName.value)}},n.a.createElement("input",{name:"potName",className:"flex-1 max-w-full bg-white focus:outline-none focus:shadow-outline border border-gray-300 rounded-lg py-2 px-4 leading-normal",autoComplete:"off"}),n.a.createElement("button",{className:"flex-0 bg-blue-500 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded",type:"submit"},"+"))))},E=function(e,t){return n.a.createElement("div",{className:"list",onClick:t.onClick},n.a.createElement("p",{className:"hover:text-blue-500 hover:border-blue-500 text-left rounded my-3 py-3 px-4  border-t-2 border-b-2 border-l-8 border-r-2 "+(!t.isSelected&&"border-gray-300"),style:{borderColor:t.isSelected?"#"+t.props.selectColor:""}},e.name))};function y(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.onClick,a=void 0===r?function(){return console.log("Default click")}:r,l=(t.isSelected,t.props);function o(e){l.listClickedFn(e)}var c=v(e.lists?e.lists:[],(function(e){return e}),(function(e){return m(e,{onClick:[o],onSelected:[]})}),E,(function(e){var t={isSelected:!1};l.selectedElementFn&&l.selectedElementFn(e)>=0&&(t.isSelected=!0);var r=l.getCurrentPotFn();return t.selectColor=r?r.color:"000000",t}));return n.a.createElement("div",{className:"flex outer boardCard w-full sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/6 mb-4 self-stretch",key:e.id},n.a.createElement("div",{className:"inner p-2 border-2  m-1 bg-white w-full",onClick:a},n.a.createElement("h2",{className:"font-medium"},e.name),n.a.createElement("div",Object(s.a)({className:"last-active"},"className","font-book text-blue-700"),n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.url},new Date(Date.parse(e.dateLastActivity)).toLocaleString())),c))}var N=function(e){return e},k=function(e,t){return Object.assign({source:e},{result:t})};function S(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:N,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k,n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[],o=Object(a.useState)(!1),s=Object(c.a)(o,2),i=s[0],f=s[1],m=Object(a.useState)(),b=Object(c.a)(m,2),v=b[0],p=b[1],g=Object(a.useState)(e),x=Object(c.a)(g,2),h=x[0],w=x[1];function E(){return(E=Object(d.a)(u.a.mark((function a(){return u.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return f(!0),w([]),a.next=4,Promise.all(e.map(function(){var e=Object(d.a)(u.a.mark((function e(a){return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",fetch(t(a)).then((function(e){return e.json()})).then((function(e){return n?e:r(a,e)})));case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())).then((function(e){return f(!1),n&&(e=r(h,e)),w(e),e})).catch((function(e){p(e)}));case 4:case"end":return a.stop()}}),a)})))).apply(this,arguments)}return Object(a.useEffect)((function(){!function(){E.apply(this,arguments)}()}),l),{data:h,error:v,isLoading:i}}var O=function(e){var t=e.activePots,r=e.setActivePots;function l(){if(t)return t.find((function(e){return e.selected}))}var o=function(e){!function(e){if(t&&t.length>0){var a=t.map((function(t){return 1==t.selected&&(s(e)>=0?(console.log("removing!"),t.lists=t.lists.filter((function(t){return t.id!==e.id}))):(console.log("adding!"),t.lists=t.lists.concat([e]))),t}));console.log(a),r(a)}}(e)};function s(e){var t=l();return t?!!t.lists&&t.lists.findIndex((function(t){return e.id===t.id})):-1}var i=function(e){var t=Object(a.useState)(e||null),r=Object(c.a)(t,2),n=r[0],l=r[1],o=function(e){return n===e};return{isSelectedFn:o,toggleSelected:function(e){o(e)?l(""):l(e)},selectedState:[n,l]}}(),u=i.toggleSelected,d=i.isSelectedFn;console.log(e.selectedBoards);var f=S(e.selectedBoards,(function(t){return"https://api.trello.com/1/boards/"+t.id+"/lists/?key="+e.ApiKey+"&token="+e.ApiToken}),(function(e,t){return e.lists=t,e}),!1,[e.selectedBoards]),b=f.data,g=f.error,x=f.isLoading;console.log(b),console.log(x);var h=v(b[0]&&b[0].lists?b:[],e.boardSortFn,(function(e){return m(e,{onClick:[],onSelected:[]})}),y,(function(e){var r={};return r.listClickedFn=o,r.activePots=t,r.selectedElementFn=s,r.getCurrentPotFn=l,r}));return n.a.createElement("div",{className:"flex w-full flex-wrap"},n.a.createElement("aside",{className:"pots w-full sm:w-1/5 p-2 border-r border-gray-300 bg-white rounded  self-start p-2 border-2 m-1"},n.a.createElement(w,{setCurrentPot:function(e){r((function(t){return t.map((function(t){return t.selected=t===e,t}))}))},currentPot:l,activePots:t,setActivePots:r,toggleSelectedPot:u,isSelectedPotFn:d,selectedPotState:l})),n.a.createElement("main",{className:"flex-1 flex flex-wrap"},l()?x?n.a.createElement(p,null):g?n.a.createElement("div",null,"error"):b.length>0?n.a.createElement(n.a.Fragment,null,h):n.a.createElement("div",null,"No lists!"):n.a.createElement("div",{className:"self-center text-center w-full text-lg font-bold text-gray-600"},t.length>0?"Please select an existing pot or create a new one.":"Please create a pot to get started.")))};function j(e){return n.a.createElement("div",{className:"absolute flex-1 self-center flex w-full h-full"},n.a.createElement("div",{className:"absolute w-full h-full bg-gray-700  opacity-50 z-0"}),n.a.createElement("div",{className:"bg-white flex-0 self-center p-8 pb-4 rounded w-full sm:w-1/3 z-10 mx-auto"},n.a.createElement("div",{className:!0},e.content&&e.content,e.children&&e.children)))}r(6).config();var P=function(e){return n.a.createElement("div",{className:"text-left"},n.a.createElement("div",{className:"text-lg text-gray-700 font-bold pb-4 flex"},n.a.createElement("h2",{className:"flex-1"},"Edit overview  settings "),n.a.createElement("button",{onClick:e.close,className:"align-right font-light px-2 rounded border-gray-100 deg45 font-bold text-xl select-none"},"+")),n.a.createElement("div",{className:"flex-1"},n.a.createElement("label",{className:"w-full self-center pt-4 text-left text-gray-500 font-bold",for:"updateInterval"},"Update Interval"),n.a.createElement("input",{className:"flex-1 max-w-full bg-white focus:outline-none border border-gray-300 rounded-lg py-2 px-4 leading-normal",type:"number",name:"updateInterval",defaultValue:e.updateInterval/1e3,ref:e.inputRef,min:"15000",step:"15000"}),"s"),n.a.createElement("button",{className:"hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-2 border border-blue-500 hover:border-transparent rounded my-4",type:"button",onClick:function(t){t.preventDefault(),e.setUpdateInterval(1e3*e.inputRef.current.value),e.close()}},"Save"))};var C=function(e){var t=Object(a.useState)(!!e.isSelected&&e.isSelected),r=Object(c.a)(t,2),l=r[0],o=r[1],s=Object(a.useState)([]),i=Object(c.a)(s,2),f=i[0],m=i[1],b=Object(a.useState)(!1),v=Object(c.a)(b,2),p=v[0],g=v[1],x=Object(a.useState)(!0),h=Object(c.a)(x,2),w=h[0],E=h[1],y=Object(a.useState)(!1),N=Object(c.a)(y,2),k=N[0],S=N[1],O=function(e,t){var r=Object(a.useState)(e),n=Object(c.a)(r,2),l=n[0],o=(n[1],Object(a.useState)(localStorage.getItem(e)&&JSON.parse(localStorage.getItem(e))||t)),s=Object(c.a)(o,2),i=s[0],u=s[1];return Object(a.useEffect)((function(){i?localStorage.setItem(l,JSON.stringify(i)):localStorage.removeItem(l)}),[i]),{stash:function(e){u(e)},remove:function(){return u(),!0},isStashed:Boolean(i),data:i}}("trelloUpdateInterval",6e4),C=O.stash,I=(O.remove,O.isStashed,O.data),A=Object(a.useRef)(null);return Object(a.useEffect)((function(){var e=!p&&setInterval((function(){return E(!0)}),I);return function(){clearInterval(e)}}),[w,I]),Object(a.useEffect)((function(){w&&e.activePots&&void 0!==e.activePots[0]&&navigator.onLine&&(g(!0),Promise.all(e.activePots.map(function(){var t=Object(d.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(r.lists.map(function(){var t=Object(d.a)(u.a.mark((function t(r){return u.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",fetch("https://api.trello.com/1/lists/"+r.id+"/cards/?key="+e.ApiKey+"&token="+e.ApiToken).then((function(e){return e.json()})));case 1:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())).then((function(e){for(var t=[],a=0,n=e.map((function(e){return a=e.length>a?e.length:a,e.sort((function(e,t){return e.pos>t.pos}))})),l=0;l<a;l++){for(var o=[],c=0;c<n.length;c++)n[c]&&n[c][l]&&o.push(n[c][l]);t=t.concat(o.sort((function(e,t){return new Date(t.dateLastActivity)-new Date(e.dateLastActivity)})))}r.cards=t}));case 2:return t.abrupt("return",r);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())).then((function(t){g(!1),E(!1),console.log(t),t.some((function(e){return e.cards.length>0}))&&e.setActivePots(t)})).catch((function(t){console.log(t),e.setActivePots(e.activePots),m(t)})))}),[w]),n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"absolute bottom-0 right-0 text-xl select-none",onClick:function(){return S(!k)}},"\u2699\ufe0f"),e.renderFn(function(){var t=Object.assign({},e);return t.lists=[],t.isLoading=p,t.error=f,t}(),{onRemove:function(t){e.callbacks&&e.callbacks.onRemove.forEach((function(t){t(e.data)}))},onClick:function(t){l||e.callbacks&&e.callbacks.onSelected.forEach((function(t){t(e.data)})),e.callbacks&&e.callbacks.onClick.forEach((function(t){t(e.data)})),o(!l)},isSelected:e.isSelected,passedProps:e}),k&&n.a.createElement(j,{content:n.a.createElement(P,{close:function(){return S(!k)},updateInterval:I,inputRef:A,setUpdateInterval:C})}))},I=function(e,t,r,a,l,o){return n.a.createElement("header",{className:"bg-blue-500 px-4 flex w-full"},n.a.createElement("h1",{className:"text-lg font-bold text-left text-white flex-1 self-center"},a),n.a.createElement("div",{className:"flex flex-wrap  px-2"},e.indexOf(t)>0&&n.a.createElement("div",{className:"button-wrap"},n.a.createElement("button",{id:"logoutButton",className:"text-white border-white hover:bg-blue-700 font-semibold py-1 px-4 border hover:border-blue-500 hover:border-transparent rounded mx-2 my-1",onClick:function(){return l()}},"Logout"),n.a.createElement("button",{id:"restartButton",className:"text-white border-white hover:bg-blue-700 font-semibold py-1 px-4 border hover:border-blue-500 hover:border-transparent rounded mx-2 my-1",onClick:function(){return o()}},"Restart"),e.indexOf(t)>1&&n.a.createElement("button",{id:"backButton",className:"text-white border-white hover:bg-blue-700  font-semibold py-1 px-4 border hover:border-blue-500 hover:border-transparent rounded mx-2 my-1",onClick:function(){return r(e[e.indexOf(t)-1])}},"Back"))))};r(6).config();var A=function(e,t,r){return e.find((function(e){return e[t]===r}))||{}},B=function(e,t,r){for(var a=0;a<e.length;a++){var n=e[a].lists.find((function(e){return e[t]===r}));if(n)return n}},F=function(e,t,r){return n.a.createElement("div",{className:"card px-4 text-left border-t border-b border-gray-300 py-3 flex flex-row flex-wrap",key:e.id},n.a.createElement("div",{className:"card-header flex-1 flex"},n.a.createElement("div",{className:"flex flex-1 flex-wrap"},n.a.createElement("p",{className:"w-full font-semibold py-0"},e.name),n.a.createElement("div",{className:"w-full text-gray-800 text-sm"},new Date(e.dateLastActivity).toLocaleString()," | ",t.name," from ",r.name)),n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",className:"self-center hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-2 border border-blue-500 hover:border-transparent rounded mx-2 border-box text-sm",href:e.url},"View")),n.a.createElement("div",{className:"w-full"},n.a.createElement("div",{className:"labels py-2 flex rounded-lg"},e.labels.map((function(e,t){return n.a.createElement("div",{key:e.id?e.id:t,className:"flex pr-3 border rounded-lg font-medium text-sm leading-none border-l-8 "+(t>0&&"mx-2"),style:{borderColor:e.color}},n.a.createElement("p",{className:"pl-1 py-1 text-xs"},e.name))})))))},T=function(e){var t=B(e.activePots,"id",e.card.idList),r=t&&A(e.selectedBoards,"id",t.idBoard);return r?F(e.card,t,r):null},L=function(e,t){var r=t.onClick,a=void 0===r?function(){return console.log("Default click")}:r,l=t.isSelected;return n.a.createElement("div",{className:"board flex flex-1 overflow-auto mx-2 w-full"},e.activePots.map((function(t){return n.a.createElement("div",{className:"flex outer boardCard w-full flex-1 mb-4 mx-1 self-stretch",key:t.id},n.a.createElement("div",{className:"text-left inner flex flex-col p-2 border-2  m-1 bg-white w-full  "+(l?"border-orange-400 ":" border-gray-200 "),onClick:a},n.a.createElement("div",{className:"mx-4"},n.a.createElement("div",{className:" w-full py-1 flex"},n.a.createElement("div",{className:"font-bold text-lg"},t.name),t.cards&&t.cards.length>0&&e.isLoading&&n.a.createElement("div",{className:"inline-block border border-blue-700 rounded px-3 ml-2"},"Updating")),n.a.createElement("div",{className:"font-book text-blue-700 pb-4 text-sm  max-h-10vh overflow-auto"},t.lists&&t.lists.map((function(r){var a=A(e.selectedBoards,"id",r.idBoard);return n.a.createElement("div",{className:"hover:bg-blue-500 hover:text-white card inline-block border border-blue-700 rounded px-3 my-1 mr-2",key:r.id+t.id},n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:a.url,className:""},r.name," from ",n.a.createElement("span",{className:"max-w-xs"},a.name.length>20?a.name.slice(0,25)+"...":a.name)))})))),n.a.createElement("div",{className:"cardList overflow-auto w-full"},t.cards&&t.cards.length>0?t.cards.map((function(t){return n.a.createElement(T,{key:t.id,card:t,selectedBoards:e.selectedBoards,activePots:e.activePots})})):e.isLoading?n.a.createElement(p,null):n.a.createElement("div",{className:"text-center"},"No cards to display."))))})))},D=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t.onClick,a=void 0===r?function(){return console.log("Default click")}:r,l=t.isSelected;return n.a.createElement("div",{className:"flex outer boardCard w-full sm:w-1/2 md:w-1/3 lg:w-1/4 xl:w-1/6 mb-4 self-stretch ",key:e.id},n.a.createElement("div",{className:"inner p-2 border-2  m-1 bg-white w-full "+(l?"border-orange-400 ":" border-gray-200 "),onClick:a},n.a.createElement("h2",{className:"font-medium"},e.name),n.a.createElement("div",Object(s.a)({className:"last-active"},"className","font-book text-blue-700"),n.a.createElement("a",{target:"_blank",rel:"noopener noreferrer",href:e.url},new Date(e.dateLastActivity).toLocaleString()))))},K=function(e){return e.sort((function(e,t){return new Date(t.dateLastActivity)-new Date(e.dateLastActivity)}))},R=function(e,t){var r={isSelected:!1};return e.some((function(e){return e.id===t.id}))&&(r.isSelected=!0),r},J=function(e){var t=function(t){e.selectedBoards.map((function(e){return e.id})).indexOf(t.id)>-1?e.setSelectedBoards(e.selectedBoards.filter((function(e){return e.id!==t.id}))):e.setSelectedBoards(e.selectedBoards.concat([t]))};return function(e,t,r){var a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:x,l=arguments.length>4&&void 0!==arguments[4]?arguments[4]:h,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:g,c=arguments.length>6?arguments[6]:void 0,s=v(r,o,a,l,c);return e?e.toString():t?n.a.createElement(p,null):n.a.createElement(n.a.Fragment,null,s)}(e.boardsFetch.error,e.boardsFetch.isLoading,e.boardsFetch.data,(function(e){return m(e,{onClick:[t],onSelected:[]})}),D,K,(function(t){return R(e.selectedBoards,t)}))},U=function(e,t,r,a){return t.map((function(t){for(var n=!1,l=0;l<e.length;l++)if(t[a]==e[l][r]){n=!0;break}if(n)return t})).filter(Boolean)},_=function(e){return n.a.createElement(j,null,n.a.createElement("div",{className:"w-full flex my-2 flex-wrap "},n.a.createElement("div",{className:"text-lg text-gray-700 font-bold pb-4 w-full flex"},n.a.createElement("h2",{className:"flex-1 text-left"},"Edit API Key"),n.a.createElement("button",{onClick:e.close,className:"align-right font-light px-2 rounded border-gray-100 deg45 font-bold text-xl select-none"},"+")),n.a.createElement("div",{className:"w-full flex flex-wrap mb-4"},n.a.createElement("label",{htmlFor:"trelloToken",className:"w-full self-center pt-4 text-left text-gray-500 font-bold"},"Trello Token"),n.a.createElement("p",{className:"font-light text-md text-left text-gray-700 my-2"},"Leave blank and click save to restore to default."),n.a.createElement("input",{ref:e.apiRef,defaultValue:e.ApiKey,className:"flex-1 w-full max-w-full bg-white focus:outline-none focus:shadow-outline border border-gray-300 rounded-lg py-2 px-4 leading-normal w-full",name:"trelloToken",type:"text"})),n.a.createElement("button",{onClick:e.stash,className:"hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-2 border border-blue-500 hover:border-transparent rounded border-box text-sm"},"Save")))},W=function(e){var t=Object(a.useState)(!1),r=Object(c.a)(t,2),l=r[0],o=r[1],s=Object(a.useRef)(null);return n.a.createElement(n.a.Fragment,null,l&&n.a.createElement(_,{apiRef:s,ApiKey:e.ApiKey,close:function(){return o(!l)},stash:function(){e.setKey(s.current.value),o(!l)}}),n.a.createElement("div",{className:"flex-1 overflow-auto max-w-xl self-center flex w-full"},n.a.createElement("div",{className:"bg-white flex-0 self-center p-8 pb-4 rounded w-full sm:1/3"},n.a.createElement("div",{className:"w-full font-bold text-left"},e.fetchData.error&&e.ApiToken&&n.a.createElement("div",{className:"rounded px-2 mb-2 w-full bg-red-400 text-lg text-white font-medium"},"! Error, credentials incorrect - could not connect to Trello!"),n.a.createElement("h1",{className:"text-2xl"},"Trelloverview"),n.a.createElement("h2",{className:"text-xl text-gray-500"},"Welcome!"),n.a.createElement("p",{className:"font-light text-lg text-gray-700"},"Trelloverview allows you to route boards to custom lists ('pots'), allowing you to see the contents of multiple boards at a glance."),n.a.createElement("p",{className:"font-light text-lg text-gray-700 mt-2"},"In order to use this service, please enter a valid Trello API token. If you have not generated a token for this app (and API key) already, you can generate one by clicking the 'Generate Token' button and following the instructions. Once you have generated a token, you can copy the token, close that tab/window, and paste it in the box below. "),n.a.createElement("p",{className:"font-light text-md text-gray-500 mt-2"},"In the event of too many users using the default API key at once, it may be desirable to use a custom one. It is recommended that if you generate your own API key, you create a new account to do so. If you have changed the API Key, you will need to generate a new token too.")),n.a.createElement("div",{className:"pt-8 justify-start text-left justify-between flex"},n.a.createElement("a",{className:"hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-2 border border-blue-500 hover:border-transparent rounded border-box text-sm",target:"_blank",rel:"noopener noreferrer",href:"https://trello.com/1/authorize?expiration=30days&name=Trelloverview&scope=read&response_type=token&key="+e.ApiKey},"Generate Token"),n.a.createElement("button",{className:"hover:bg-gray-500 text-gray-500 font-semibold hover:text-white py-1 px-1 border border-gray-300 hover:border-transparent rounded border-box text-sm self-center",onClick:function(e){e.preventDefault(),o(!l)}},"Enter custom API Key")),n.a.createElement("div",{className:"w-full flex my-2 flex-wrap"},n.a.createElement("label",{htmlFor:"trelloToken",className:"w-full self-center pt-4 text-left text-gray-500 font-bold"},"Trello Token"),n.a.createElement("input",{onBlur:function(t){return e.stash(t.target.value)},className:"flex-1 w-full max-w-full bg-white focus:outline-none focus:shadow-outline border border-gray-300 rounded-lg py-2 px-4 leading-normal",name:"trelloToken",type:"text"})),!e.fetchData.error&&e.ApiToken&&n.a.createElement("div",{className:"w-full flex text-right justify-end"},n.a.createElement("button",{onClick:e.handleProgressStage,className:"self-center hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-2 border border-blue-500 hover:border-transparent rounded border-box"},"Next")),n.a.createElement("div",{className:"w-full font-bold text-left border-t border-gray-300 mt-8"},n.a.createElement("p",{className:"font-bold text-gray-400 mt-2 text-sm "},"Made with \u2764\ufe0f by  ",n.a.createElement("a",{className:"underline",target:"_blank",href:"https://thomasbarratt.co.uk"},"Thomas Barratt"),".",n.a.createElement("a",{target:"_blank",href:"https://github.com/thomas1151/trelloverview",rel:"noreferrer noopener",className:"hover:text-blue-500 text-blue-300 font-semibold px-1 hover:border-transparent rounded border-box text-sm font-light"},"Github")," ")))))};var z=function(){var e=Object(a.useState)(JSON.parse(localStorage.getItem("selectedBoards"))||[]),t=Object(c.a)(e,2),r=t[0],l=t[1],o=Object(a.useState)(JSON.parse(localStorage.getItem("activePots"))||[]),s=Object(c.a)(o,2),i=s[0],u=s[1],d=Object(a.useState)(!1),m=Object(c.a)(d,2),b=m[0],v=m[1];Object(a.useEffect)((function(){v(!1)}),[r]),Object(a.useEffect)((function(){b||function(){if(i){var e=i.map((function(e){return e.lists=U(r,e.lists,"id","idBoard"),e}));u(e)}else u([]);v(!0)}()}),[b]),Object(a.useEffect)((function(){localStorage.setItem("selectedBoards",JSON.stringify(r))}),[r,i]),Object(a.useEffect)((function(){localStorage.setItem("activePots",JSON.stringify(i))}),[r,i]);var p=function(){var e=Object(a.useState)(localStorage.getItem("trelloKey")||"d5cd81f02ee37373fb4d1954c84d495a"),t=Object(c.a)(e,2),r=t[0],n=t[1],l=Object(a.useState)(localStorage.getItem("trelloToken")),o=Object(c.a)(l,2),s=o[0],i=o[1];return Object(a.useEffect)((function(){s?localStorage.setItem("trelloToken",s):localStorage.removeItem("trelloToken")}),[s]),Object(a.useEffect)((function(){r?localStorage.setItem("trelloKey",r):n("d5cd81f02ee37373fb4d1954c84d495a")}),[r]),{stash:function(e){i(e)},revoke:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];i(),e.forEach((function(e){return e()}))},isStashed:Boolean(s),token:s,key:r,setKey:n}}(),g=p.stash,x=p.revoke,h=(p.isStashed,p.token),w=p.key,E=p.setKey,y=f("https://api.trello.com/1/members/me/boards?key="+w+"&token="+h,[h]),N=["addTrelloDetails","selectBoard","selectLists","overview"],k=Object(a.useState)((function(){return h&&!y.error?localStorage.getItem("selectedBoards")&&JSON.parse(localStorage.getItem("selectedBoards")).length>0?localStorage.getItem("activePots")&&JSON.parse(localStorage.getItem("activePots")).length>0?N[N.indexOf("overview")]:N[N.indexOf("selectLists")]:N[N.indexOf("selectBoard")]:N[0]})),S=Object(c.a)(k,2),j=S[0],P=S[1];Object(a.useEffect)((function(){switch(j){case"addTrelloDetails":x()}}),[j]);var A=j.replace(/([A-Z])/g," $1");A=A.charAt(0).toUpperCase()+A.slice(1);var B=function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];P(N[N.indexOf(j)+1])},F=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"selectBoard";l([]),u([]),P(e)};return n.a.createElement("div",{className:"App bg-gray-100 h-full flex flex-wrap flex-col"},I(N,j,P,A,(function(){return F("addTrelloDetails")}),F),"addTrelloDetails"===j&&n.a.createElement(W,{ApiKey:w,ApiToken:h,stash:g,fetchData:y,handleProgressStage:B,setKey:E}),"selectBoard"===j&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"boards-wrapper flex flex-1 overflow-auto flex-wrap "+(r.length>0&&"mb-20")},n.a.createElement(J,{setSelectedBoards:l,selectedBoards:r,boardsFetch:y})),r.length>0&&n.a.createElement("div",{className:"next w-full fixed bottom-0 flex flex-wrap border-t-4 border-blue-500 bg-white p-4"},n.a.createElement("p",{className:"flex-1 text-left self-center text-sm"},r.length," board(s) selected. Click next to select lists."),n.a.createElement("div",{className:"w-full sm:w-auto flex justify-between"},n.a.createElement("button",{className:"hover:bg-gray-500 text-gray-700 font-book hover:text-white py-2 px-4 border border-gray-500 hover:border-transparent rounded mx-2 text-sm",onClick:function(){return F()}},"Clear selected boards"),n.a.createElement("button",{className:"hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded mx-2",onClick:B},"Next")))),"selectLists"===j&&n.a.createElement(n.a.Fragment,null,n.a.createElement("div",{className:"lists-wrapper flex flex-1 overflow-auto flex-wrap flex-row "+(i.length>0&&"mb-20")},n.a.createElement(O,{setActivePots:u,activePots:i,ApiKey:w,ApiToken:h,selectedBoards:r,boardSortFn:K,boardProps:function(e){return R(r,e)}})),i.length>0&&n.a.createElement("div",{className:"next w-full fixed bottom-0 flex flex-wrap border-t-4 border-blue-500 bg-white p-4"},n.a.createElement("p",{className:"flex-1 text-left self-center text-sm"},"list(s) over ",i.length," pot(s) selected."),n.a.createElement("div",{className:"w-full sm:w-auto flex justify-between"},n.a.createElement("button",{className:"hover:bg-gray-500 text-gray-700 font-book hover:text-white py-2 px-4 border border-gray-500 hover:border-transparent rounded mx-2 text-sm",onClick:function(){return l([])}},"Remove all pots."),n.a.createElement("button",{className:"hover:bg-blue-500 text-blue-700 font-semibold hover:text-white py-2 px-4 border border-blue-500 hover:border-transparent rounded mx-2",onClick:B},"Show overview")))),"overview"===j&&n.a.createElement(n.a.Fragment,null,n.a.createElement(C,{activePots:i,setActivePots:u,renderFn:L,ApiKey:w,ApiToken:h,selectedBoards:r})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));o.a.render(n.a.createElement(z,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t,r){e.exports=r(19)}},[[9,1,2]]]);
//# sourceMappingURL=main.33c5f1da.chunk.js.map